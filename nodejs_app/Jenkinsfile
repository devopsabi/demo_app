pipeline {
        agent any
        
        stages {
        
            stage('checkout_nodejs_app') {
                steps {
                    git branch:"master", url: '', credentialsId:'git_hub_id'
                }
    
            }

    
node {
    println("Running job ${env.JOB_NAME}")
    def config = readYaml(file:'config.yaml')
    def value = env.getProperty(config.myconfig.key)
    println("Value of property ${config.myconfig.key} is ${value}")
}


         stage('build docker image nodejs_app'){
                steps {
                    script{
			
                        withDockerRegistry(url:'',credentialsId:'docker_hub_id'){
                            /*docker.build('devopsabi/demo_app:'+currentBuild.number).push()*/
			    println "${env}"
                           }
                    }
                }
            }
    }
}
